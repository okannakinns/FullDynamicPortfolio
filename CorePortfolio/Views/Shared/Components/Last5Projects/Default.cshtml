@using EntityLayer.Concrete;
@model List<Portfolio>

<div class="col-md-8 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
            <div class="d-flex flex-row justify-content-between">
                <h4 class="card-title mb-1">Son 5 Proje</h4>
                <p class="text-muted mb-1"><a href="/Portfolio/Index"><span id="status-total">@ViewBag.ProjectCount</span> Projenin Hepsini Gör</a></p>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="preview-list">
                         @foreach (var item in Model )
                            {
                        <div class="preview-item border-bottom">
                            <div class="preview-thumbnail">
                                <div style="width:60px; height:40px;" class="preview-icon">
                                        <img style="width:60px; height:40px; border-radius:10px;" src="@item.ImageUrl">
                                    @*<i class="mdi mdi-file-document"></i>*@
                                </div>
                            </div>
                            <div class="preview-item-content d-sm-flex flex-grow">
                                <div class="flex-grow">
                                    <h6 class="preview-subject">@item.Name</h6>
                                        <p class="text-muted mb-0"><a href="@item.ProjectUrl" target="_blank">Proje Adresi</a></p>
                                </div>
                                <div class="mr-auto text-sm-right pt-2 pt-sm-0">
                                    <p class=" project-status" data-status-id="@item.Status">@item.Status</p>
                                    <p class="text-muted mb-0">@item.Platform</p>
                                </div>
                            </div>
                          
                        </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {

        $('.project-status').each(function () {
            var selectedStatus = $(this).data('status-id');
            
            if (selectedStatus == "Tamamlandı") {
                $(this).addClass("text-success");
            } else if (selectedStatus == "Devam Ediyor") {
                $(this).addClass("text-warning");
            } else if (selectedStatus == "Plan Aşamasında") {
                $(this).addClass("text-danger");
            }
        });
    });

</script>